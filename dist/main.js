!function(e){var t={};function a(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(i,r,function(t){return e[t]}.bind(null,r));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";a.r(t);const i=[{id:1,img:"dance.jpg",name:"Action A",chld:[{id:101,name:"cry",nameRu:"плакать",img:"cry.jpg",audioSrc:"audio/cry.mp3"},{id:102,name:"dance",nameRu:"танцевать",img:"dance.jpg",audioSrc:"audio/dance.mp3"},{id:103,name:"dive",nameRu:"нырять",img:"dive.jpg",audioSrc:"audio/dive.mp3"},{id:104,name:"draw",nameRu:"рисовать",img:"draw.jpg",audioSrc:"audio/draw.mp3"},{id:105,name:"fish",nameRu:"ловить рыбу",img:"fish.jpg",audioSrc:"audio/fish.mp3"},{id:106,name:"fly",nameRu:"летать",img:"fly.jpg",audioSrc:"audio/fly.mp3"},{id:107,name:"hug",nameRu:"обнимать",img:"hug.jpg",audioSrc:"audio/hug.mp3"},{id:108,name:"jump",nameRu:"прыгать",img:"jump.jpg",audioSrc:"audio/jump.mp3"}]},{id:2,img:"swim.jpg",name:"Action B",chld:[{id:201,name:"open",nameRu:"открывать",img:"open.jpg",audioSrc:"audio/open.mp3"},{id:202,name:"play",nameRu:"играть",img:"play.jpg",audioSrc:"audio/play.mp3"},{id:203,name:"point",nameRu:"указывать",img:"point.jpg",audioSrc:"audio/point.mp3"},{id:204,name:"ride",nameRu:"ездить",img:"ride.jpg",audioSrc:"audio/ride.mp3"},{id:205,name:"run",nameRu:"бегать",img:"run.jpg",audioSrc:"audio/run.mp3"},{id:206,name:"sing",nameRu:"петь",img:"sing.jpg",audioSrc:"audio/sing.mp3"},{id:207,name:"skip",nameRu:"пропускать, прыгать",img:"skip.jpg",audioSrc:"audio/skip.mp3"},{id:208,name:"swim",nameRu:"плавать",img:"swim.jpg",audioSrc:"audio/swim.mp3"}]},{id:3,img:"drop.jpg",name:"Action C",chld:[{id:401,name:"argue",nameRu:"спорить",img:"argue.jpg",audioSrc:"audio/argue.mp3"},{id:402,name:"build",nameRu:"строить",img:"build.jpg",audioSrc:"audio/build.mp3"},{id:403,name:"carry",nameRu:"нести",img:"carry.jpg",audioSrc:"audio/carry.mp3"},{id:404,name:"catch",nameRu:"ловить",img:"catch.jpg",audioSrc:"audio/catch.mp3"},{id:405,name:"drive",nameRu:"водить машину",img:"drive.jpg",audioSrc:"audio/drive.mp3"},{id:406,name:"drop",nameRu:"падать",img:"drop.jpg",audioSrc:"audio/drop.mp3"},{id:407,name:"pull",nameRu:"тянуть",img:"pull.jpg",audioSrc:"audio/pull.mp3"},{id:408,name:"push",nameRu:"толкать",img:"push.jpg",audioSrc:"audio/push.mp3"}]},{id:4,img:"friendly.jpg",name:"Adjective",chld:[{id:301,name:"big",nameRu:"большой",img:"big.jpg",audioSrc:"audio/big.mp3"},{id:302,name:"small",nameRu:"маленький",img:"small.jpg",audioSrc:"audio/small.mp3"},{id:303,name:"fast",nameRu:"быстрый",img:"fast.jpg",audioSrc:"audio/fast.mp3"},{id:304,name:"slow",nameRu:"медленный",img:"slow.jpg",audioSrc:"audio/slow.mp3"},{id:305,name:"friendly",nameRu:"дружелюбный",img:"friendly.jpg",audioSrc:"audio/friendly.mp3"},{id:306,name:"unfriendly",nameRu:"недружелюбный",img:"unfriendly.jpg",audioSrc:"audio/unfriendly.mp3"},{id:307,name:"young",nameRu:"мололдой",img:"young.jpg",audioSrc:"audio/young.mp3"},{id:308,name:"old",nameRu:"старый",img:"old.jpg",audioSrc:"audio/old.mp3"}]},{id:5,img:"cat.jpg",name:"Animal A",chld:[{id:301,name:"cat",nameRu:"кот",img:"cat.jpg",audioSrc:"audio/cat.mp3"},{id:302,name:"chick",nameRu:"цыплёнок",img:"chick.jpg",audioSrc:"audio/chick.mp3"},{id:303,name:"chicken",nameRu:"курица",img:"chicken.jpg",audioSrc:"audio/chicken.mp3"},{id:304,name:"dog",nameRu:"собака",img:"dog.jpg",audioSrc:"audio/dog.mp3"},{id:305,name:"horse",nameRu:"лошадь",img:"horse.jpg",audioSrc:"audio/horse.mp3"},{id:306,name:"pig",nameRu:"свинья",img:"pig.jpg",audioSrc:"audio/pig.mp3"},{id:307,name:"rabbit",nameRu:"кролик",img:"rabbit.jpg",audioSrc:"audio/rabbit.mp3"},{id:308,name:"sheep",nameRu:"овца",img:"sheep.jpg",audioSrc:"audio/sheep.mp3"}]},{id:6,img:"bird.jpg",name:"Animal B",chld:[{id:401,name:"bird",nameRu:"птица",img:"bird.jpg",audioSrc:"audio/bird.mp3"},{id:402,name:"fish",nameRu:"рыба",img:"fish1.jpg",audioSrc:"audio/fish.mp3"},{id:403,name:"frog",nameRu:"жаба",img:"frog.jpg",audioSrc:"audio/frog.mp3"},{id:404,name:"giraffe",nameRu:"жирафа",img:"giraffe.jpg",audioSrc:"audio/giraffe.mp3"},{id:405,name:"lion",nameRu:"лев",img:"lion.jpg",audioSrc:"audio/lion.mp3"},{id:406,name:"mouse",nameRu:"мышь",img:"mouse.jpg",audioSrc:"audio/mouse.mp3"},{id:407,name:"turtle",nameRu:"черепаха",img:"turtle.jpg",audioSrc:"audio/turtle.mp3"},{id:408,name:"dolphin",nameRu:"дельфин",img:"dolphin.jpg",audioSrc:"audio/dolphin.mp3"}]},{id:7,img:"blouse.jpg",name:"Clothes",chld:[{id:501,name:"skirt",nameRu:"юбка",img:"skirt.jpg",audioSrc:"audio/skirt.mp3"},{id:502,name:"pants",nameRu:"брюки",img:"pants.jpg",audioSrc:"audio/pants.mp3"},{id:503,name:"blouse",nameRu:"блузка",img:"blouse.jpg",audioSrc:"audio/blouse.mp3"},{id:504,name:"dress",nameRu:"платье",img:"dress.jpg",audioSrc:"audio/dress.mp3"},{id:505,name:"boot",nameRu:"ботинок",img:"boot.jpg",audioSrc:"audio/boot.mp3"},{id:506,name:"shirt",nameRu:"рубашка",img:"shirt.jpg",audioSrc:"audio/shirt.mp3"},{id:507,name:"coat",nameRu:"пальто",img:"coat.jpg",audioSrc:"audio/coat.mp3"},{id:508,name:"shoe",nameRu:"туфли",img:"shoe.jpg",audioSrc:"audio/shoe.mp3"}]},{id:8,img:"smile.jpg",name:"Emotion",chld:[{id:601,name:"sad",nameRu:"грустный",img:"sad.jpg",audioSrc:"audio/sad.mp3"},{id:602,name:"angry",nameRu:"сердитый",img:"angry.jpg",audioSrc:"audio/angry.mp3"},{id:603,name:"happy",nameRu:"счастливый",img:"happy.jpg",audioSrc:"audio/happy.mp3"},{id:604,name:"tired",nameRu:"уставший",img:"tired.jpg",audioSrc:"audio/tired.mp3"},{id:605,name:"surprised",nameRu:"удивлённый",img:"surprised.jpg",audioSrc:"audio/surprised.mp3"},{id:606,name:"scared",nameRu:"испуганный",img:"scared.jpg",audioSrc:"audio/scared.mp3"},{id:607,name:"smile",nameRu:"улыбка",img:"smile.jpg",audioSrc:"audio/smile.mp3"},{id:608,name:"laugh",nameRu:"смех",img:"laugh.jpg",audioSrc:"audio/laugh.mp3"}]}];class r{constructor(e){this.id=e.id,this.img=e.img,this.name=e.name,this.nameRu=e.nameRu,this.cardImg=document.createElement("img"),this.card=document.createElement("div")}getCardTemplate(){let e=this.card,t=this.id;return e.classList.add("card","card_item"),e.setAttribute("data-id",t),e.append(this.getCardImgTemplate()),e.append(this.getCardNameTemplate()),e}getImageSource(){return"./src/assets/img/category/"+this.img}getCardImgTemplate(){let e=this.cardImg;return e.setAttribute("src",this.getImageSource()),e.setAttribute("alt","./src/assets/img/category/"+this.name),e}getCardNameTemplate(){let e=document.createElement("h2");return e.innerText=this.name,e.classList.add("cart_title"),e}getCardNameRuTemplate(){let e=document.createElement("h2");return e.innerText=this.nameRu,e.classList.add("cart_title"),e}}var d=r;class n extends r{constructor(e){super(e),this.front=document.createElement("div"),this.back=document.createElement("div"),this.audio=e.audioSrc}getCardTemplate(){let e=this.card,t=this.id;return e.classList.add("card","card_item","word_card"),e.setAttribute("data-id",t),e.append(this.getFrontCard()),e.append(this.getBackCard()),e}getFrontCard(){let e=this.front,t=this.getCardNameTemplate(),a=this.getButtonReload(),i=this.getAudioElement();return e.classList.add("front"),e.setAttribute("style",`background-image: url(${this.getImageSource()})`),e.append(t),e.appendChild(a),e.append(i),e}getButtonReload(){let e=document.createElement("div");return e.classList.add("reload"),e}getBackCard(){let e=this.back,t=this.getCardNameRuTemplate();return e.classList.add("back"),e.setAttribute("style",`background-image: url(${this.getImageSource()})`),e.append(t),e}getAudioElement(){let e=document.createElement("audio");return e.id="audio-player",e.controls="controls",e.src="./src/assets/"+this.audio,e.type="audio/mpeg",e}}class o extends r{constructor(e){super(e),this.front=document.createElement("div"),this.back=document.createElement("div")}getCardTemplate(){let e=this.card,t=this.id;return e.classList.add("card","card_item","word_card","play_mode"),e.setAttribute("data-id",t),e.append(this.getFrontCard()),e.append(this.getBackCard()),e}getFrontCard(){let e=this.front;return e.classList.add("front"),e.setAttribute("style",`background-image: url(${this.getImageSource()})`),e}getBackCard(){let e=this.back;return e.classList.add("back"),e.setAttribute("style",`background-image: url(${this.getImageSource()})`),e}}let s=[],u="",c="",m=!1,l=!1,g=[];const p=()=>{event.preventDefault();const{target:{attributes:e,parentNode:t,nodeName:a},currentTarget:i}=event;let r=e["data-id"]?e["data-id"].nodeValue:t.attributes["data-id"]?t.attributes["data-id"].nodeValue:null;if(i.classList.contains("categores")&&($(r),P("category"),D(r,i,I),S(),f()),"BUTTON"===a&&(0===s.lenght&&S(),_(),l=!0,h()),event.target.classList.contains("front")&&!t.classList.contains("disabled")&&u&&l){const{dataset:{id:e=""}}=t;j(e),L()}},h=()=>{let e=m?f():c;document.querySelector(".cards__list").insertAdjacentElement("beforeend",e),document.querySelector(".cards__list audio").play()},y=(e,t)=>{let a=document.createElement("audio");return a.id="audio-player",a.controls="controls",a.setAttribute("data-id",t),a.src="./src/assets/"+e,a.type="audio/mpeg",a},S=()=>{let e=V(),t=W(e),a=e>0?t.map(e=>{const{id:t,audioSrc:a}=e;return y(a,t)}):null;return s=a,a},f=()=>{let e=s[Math.floor(Math.random()*s.length)];const{dataset:{id:t=""}}=e;return u=t,c=e,e},j=e=>{if(u===e)return m=!0,b(),(e=>{document.querySelector(".cards__list #audio-player").remove(),s=s.reduce((t,a)=>{const{dataset:{id:i=""}}=a;return i!==e&&t.push(a),t},[])})(e),s.length>0&&h(),0===s.length&&(l=!1,v()),m},b=()=>{const{target:{parentNode:e}}=event;e.classList.add("disabled")},v=()=>{let e=document.querySelector(".cards__list");e.innerHTML="";let t=document.createElement("img");t.src="./src/assets/img/success.jpg";let a=document.createElement("img");a.src="./src/assets/img/failure.jpg";let i=(()=>{let e=g.find(e=>!1===e);return!1!==e&&(void 0===e||void 0)})();i?i&&(document.querySelector(".success").play(),e.insertAdjacentElement("beforeend",t)):(document.querySelector(".failure").play(),e.insertAdjacentElement("beforeend",a)),w()},R=()=>{g=[],document.querySelectorAll(".star").forEach(e=>e.remove())},L=()=>{let e=document.querySelector("div.stars");m?(e.insertAdjacentElement("beforeend",(()=>{let e=document.createElement("span");return e.classList.add("star","full"),e})()),m=!1,document.querySelector(".correct").play(),g.push(!0)):m||(document.querySelector(".error").play(),g.push(!1),e.insertAdjacentElement("beforeend",(()=>{let e=document.createElement("span");return e.classList.add("star","empty"),e})()))},_=()=>{let e=document.querySelector(".cards__list .play_button > button");e.classList.add("repeat"),e.innerHTML="Start game"};let E=[];var k=class{constructor(e){this.data=e,this.cardListContainer=document.querySelector("div.cards__list"),this.mode="categores",this.isPlay=!1,this.playButton=document.createElement("button")}init(){this.renderCardsToDom(),this.eventListner()}eventListner(){this.cardListContainer.addEventListener("click",O)}renderCardsToDom(){let e=this.getCardsListWrapper();if(E=this.getCardsFromData(),E.map(t=>{e.appendChild(t.getCardTemplate())}),this.isPlay&&"category"===this.mode){let t=document.createElement("div");t.classList.add("play_button"),e.insertAdjacentElement("beforeend",t),t.insertAdjacentElement("beforeend",this.getPlayButton())}return E}renderCard(e){let t=null;switch(this.mode){case"categores":t=new d(e);break;case"category":t=this.isPlay?new o(e):new n(e)}return t}getPlayButton(){let e=this.playButton;return e.innerText="Start",e}getCardsFromData(){let e=[];return this.data.forEach(t=>{let a=this.renderCard(t);e.push(a)}),e}getCardsListWrapper(){let e=this.cardListContainer;return e.innerHTML="",e.classList=[],e.classList.add("cards__list",this.mode),e}setWorkMode(e){this.mode=e}getWorkMode(){return this.mode}setIsPlay(e){this.isPlay=e}};let C=!1,A="categores";const q=()=>{document.querySelector("div.icon__menu_toggle").classList.toggle("active"),document.querySelector("nav.header_menu").classList.toggle("active")},T=e=>{let t=[document.querySelector("nav.header_menu"),document.querySelector("div.cards__list")];switch(e){case"orange":t.forEach(t=>{t.classList.remove("green"),t.classList.add(e)});break;case"green":t.forEach(t=>{t.classList.remove("orange"),t.classList.add(e)})}},w=()=>{setTimeout(()=>{x(!1),P("categores"),document.getElementById("checkbox_switcher").checked=!1,R(),$(0),B()},5e3)},N=()=>{let e=V(),t=0!==e?W(e):i;F(t,A),R(),document.querySelector("div.cards__list").removeEventListener("click",O),document.querySelector("div.cards__list").addEventListener("click",p)},B=()=>{let e=V(),t=0!==e?W(e):i;document.querySelectorAll(".star").forEach(e=>e.remove()),F(t,A),document.querySelectorAll(".card_item").forEach(e=>e.classList.remove("play_mode")),document.querySelector("div.cards__list").removeEventListener("click",p),document.querySelector("div.cards__list").addEventListener("click",O)},I=()=>C,P=e=>{A=e},x=e=>{C=e},M=e=>{const{target:{parentNode:t},toElement:a}=e;a.classList.contains("cards__list")&&t.classList.remove("reloaded")},O=e=>{e.preventDefault();const{target:{attributes:t,parentNode:a},currentTarget:i}=e;let r=t["data-id"]?t["data-id"].nodeValue:a.attributes["data-id"]?a.attributes["data-id"].nodeValue:null;if(i.classList.contains("categores")&&(A="category",$(r),D(r,i,C)),e.target.classList.contains("reload")&&(a.parentNode.classList.add("reloaded"),document.querySelector(".reloaded").addEventListener("mouseout",M)),e.target.classList.contains("front")||a.classList.contains("front")){const{path:t}=e;e.target.classList.contains("reload")||C||t.find(e=>e.classList.contains("front")).lastChild.play()}},D=(e,t,a)=>{let r=0!==e?W(e):i;F(r,A),(()=>{let e=document.querySelector(".cards__list");e.classList.length>0&&(e.classList=[]);let t=C?"orange":"green";e.classList.add("cards__list",A,t)})()},F=(e,t)=>{let a=new k(e);a.setWorkMode(A),a.setIsPlay(C),a.init()},V=()=>{let e=0,t=document.querySelector("ul.header_menu_list").children,a=Array.from(t).find(e=>e.classList.contains("active")).dataset;const{id:i=""}=a;return e=i?Number(i):0,e},W=e=>{const t=i.find(t=>t.id===Number(e));return t?t.chld:null},$=e=>{let t=document.querySelector("ul.header_menu_list").children;Array.from(t).forEach(t=>{const{classList:a,dataset:i}=t;a.contains("active")&&a.remove("active"),Number(i.id)===Number(e)&&a.add("active")}),C&&(u=e,c="",m=!1,l=!1,g=[],S(),f())};window.onload=()=>{if(i){new k(i).init()}},document.querySelector("div.icon__menu_toggle").addEventListener("click",q),document.querySelector("#checkbox_switcher").addEventListener("change",e=>{const{target:{checked:t}}=e;t?(C=!0,N(),T("orange"),"category"===A&&(S(),f()),(()=>{let e=y("audio/error.mp3",0),t=y("audio/success.mp3",0),a=y("audio/failure.mp3",0),i=y("audio/correct.mp3",0);e.classList.add("error"),t.classList.add("success"),a.classList.add("failure"),i.classList.add("correct");let r=document.createElement("div");r.classList.add("system_sound"),r.append(e),r.append(t),r.append(a),r.append(i),document.querySelector(".container > div.wrapper").insertAdjacentElement("beforeend",r)})()):(C=!1,B(),T("green"))}),document.querySelector("ul.header_menu_list").addEventListener("click",e=>{e.preventDefault(),document.querySelectorAll(".star").forEach(e=>e.remove());const{target:{attributes:t,parentNode:a},currentTarget:i}=e;let r=a.attributes["data-id"]?Number(a.attributes["data-id"].nodeValue):0;A=0===r?"categores":"category",D(r),$(r),q()})}]);